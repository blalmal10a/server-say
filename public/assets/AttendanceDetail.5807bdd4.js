import{Q as m}from"./QInput.62f11e41.js";import{ad as w,ac as v,r as y,f as h,J as k,o as C,L as u,M as V,N as f,O as a,af as l,Q as o,R as B,T as M,X as r,S as Q}from"./index.45c30311.js";import{b as R,_ as T}from"./ConfirmDelete.acb5ba7c.js";import{Q as L}from"./QPage.0b167c59.js";import{a as e}from"./helper.b1edfa07.js";import{d as N}from"./date.2b7f0fb9.js";import"./QCardActions.dfb9c5e8.js";import"./use-dark.30b26a27.js";import"./format.39fd45b8.js";import"./use-transition.48e6a935.js";const $={class:"full-width"},x={class:"row q-col-gutter-sm"},A={class:"col-12 col-sm-6 col-md-4"},D={class:"col-12 col-sm-6 col-md-4"},S={class:"col-12 col-sm-6 col-md-4"},q={key:0,class:"q-mt-md row"},I={class:"col"},U={class:"col-auto"},W={__name:"AttendanceDetail",setup(E){const p=w(),_=v(),g=y(null);h(()=>e.is_executive?(e.selectedTag="Council",["Council","Activity"]):(e.selectedTag="Meeting",["Meeting","Activity"])),k(()=>{e.users=[],e.selectedList=[],N.formatDate(new Date,"ddd")=="Mon"&&(e.selectedTag="Monday")}),C(async()=>{e.show(p,_)});function b(n,t){const s=e.selectedList.findIndex(i=>i.id==t.id);s>=0?e.selectedList.splice(s,1):e.selectedList.push(t)}return(n,t)=>(u(),V(L,{class:"",padding:""},{default:f(()=>[a(R,{ref_key:"tableRef",ref:g,square:"",flat:"",bordered:"",filter:o(e).pagination.filter,onRowClick:b,loading:o(e).loadingTable,rows:o(e).users,columns:o(e).form_columns,"rows-per-page-options":[0],"hide-pagination":"",class:"full-width",key:"id"},{top:f(()=>{var s,i,c;return[l("div",$,[l("div",x,[l("div",A,[a(m,{dense:"",outlined:"",modelValue:o(e).pagination.filter,"onUpdate:modelValue":t[0]||(t[0]=d=>o(e).pagination.filter=d),label:`Search ${(s=o(e).form.tag)==null?void 0:s.toLowerCase()} attendees`},null,8,["modelValue","label"])]),l("div",D,[a(m,{dense:"",outlined:"",modelValue:o(e).collection,"onUpdate:modelValue":t[1]||(t[1]=d=>o(e).collection=d),type:"number",step:"0.01",label:"Collection",placeholder:"Enter collection amount \u20B9"},null,8,["modelValue"])]),l("div",S,[a(B,{loading:o(e).loadingSubmitButton,class:"full-width",onClick:t[2]||(t[2]=d=>o(e).update_collection(n.$route,n.$router)),label:"save",color:"primary"},null,8,["loading"])])]),o(e).form.no_of_members?(u(),M("div",q,[l("div",I," Attendance: "+r((i=o(e).form)==null?void 0:i.no_of_attendant)+"/"+r((c=o(e).form)==null?void 0:c.no_of_members),1),l("div",U,r(o(e).form.percentage)+"% ",1)])):Q("",!0)])]}),_:1},8,["filter","loading","rows","columns"]),a(T,{onUpdateTable:t[3]||(t[3]=s=>{o(e).list=s.data,o(e).pagination.rowsNumber=s.total})})]),_:1}))}};export{W as default};
