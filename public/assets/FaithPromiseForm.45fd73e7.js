import{Q}from"./QInput.7e27db63.js";import{Q as T}from"./QDate.d9649e7c.js";import{u as C,e as S,a as k,c as N,b as B,_ as Y}from"./ConfirmDelete.041abbd4.js";import{c as U,r as f,f as D,w as I,as as A,h as E,g as R,ae as F,N as O,o as j,P as _,Q as H,R as n,S as l,T as u,U as a,V as b,$ as y,a0 as V,ag as J,X as L,Y as z,Z as X}from"./index.d3ad043f.js";import{Q as Z}from"./QTd.1a8fab95.js";import{Q as G}from"./QPageSticky.516c93a7.js";import{Q as K,h as W,k as ee,l as te}from"./format.59a25017.js";import{Q as ae,a as oe,b as le}from"./QPage.7bf2ba30.js";import{f as t}from"./helper.551a18a2.js";import{d as M}from"./date.4199c5fc.js";import"./QCardActions.79877e99.js";import"./use-quasar.f628857e.js";import"./use-transition.5f5ddb9c.js";var se=U({name:"QPopupProxy",props:{...C,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(c,{slots:d,emit:p,attrs:g}){const{proxy:r}=R(),{$q:o}=r,e=f(!1),i=f(null),h=D(()=>parseInt(c.breakpoint,10)),{canShow:x}=S({showing:e});function v(){return o.screen.width<h.value||o.screen.height<h.value?"dialog":"menu"}const m=f(v()),$=D(()=>m.value==="menu"?{maxHeight:"99vh"}:{});I(()=>v(),s=>{e.value!==!0&&(m.value=s)});function q(s){e.value=!0,p("show",s)}function P(s){e.value=!1,m.value=v(),p("hide",s)}return Object.assign(r,{show(s){x(s)===!0&&i.value.show(s)},hide(s){i.value.hide(s)},toggle(s){i.value.toggle(s)}}),A(r,"currentComponent",()=>({type:m.value,ref:i.value})),()=>{const s={ref:i,...$.value,...g,onShow:q,onHide:P};let w;return m.value==="dialog"?w=k:(w=N,Object.assign(s,{target:c.target,contextMenu:c.contextMenu,noParentEvent:!0,separateClosePopup:!0})),E(w,s,d.default)}}});const ne={class:"full-width"},re={class:"row q-col-gutter-sm"},ie={class:"col-12 col-sm-6 col-md-4"},ue={class:"col-12 col-sm-6 col-md-4"},de={class:"row q-col-gutter-sm"},me={class:"col"},ce={class:"q-py-md q-px-xs bg-dark col-12 row justify-end"},pe={class:"col-12 col-sm-6 col-md-4"},fe={class:"row q-col-gutter-sm"},$e={__name:"FaithPromiseForm",setup(c){const d=F(),p=f(null);O(()=>{t.users=[],t.selectedList=[],M.formatDate(new Date,"ddd")=="Mon"&&(t.selectedTag="Monday")}),j(async()=>{d.params._id=="add"?(t.createDialog=!0,t.selectedDate=M.formatDate(new Date().setDate(1),"YYYY-MM-DD")):await t.update(d.params._id,d)});const g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return(r,o)=>(_(),H(ae,{class:"",padding:"",style:{position:"relative"}},{default:n(()=>[l(B,{ref_key:"tableRef",ref:p,square:"",flat:"",bordered:"",filter:a(t).pagination.filter,loading:a(t).loadingTable,rows:a(t).users,columns:a(t).form_columns,"rows-per-page-options":[0],"hide-pagination":"",class:"full-width q-mb-xl",key:"id"},{top:n(()=>[u("div",ne,[u("div",re,[u("div",ie,[l(Q,{dense:"",outlined:"",modelValue:a(t).pagination.filter,"onUpdate:modelValue":o[0]||(o[0]=e=>a(t).pagination.filter=e),label:"Search"},null,8,["modelValue"])]),u("div",ue,[u("div",de,[u("div",me,[l(b,{outline:"",color:"white",class:"full-width",style:{height:"40px"}},{default:n(()=>[y(V(a(M).formatDate(a(t).selectedDate,"MMMM"))+" ",1),l(se,{modelValue:a(t).dateMenu,"onUpdate:modelValue":o[3]||(o[3]=e=>a(t).dateMenu=e)},{default:n(()=>[l(T,{modelValue:a(t).selectedDate,"onUpdate:modelValue":o[1]||(o[1]=e=>a(t).selectedDate=e),"default-view":"Months",mask:"YYYY-MM-DD",onNavigation:o[2]||(o[2]=e=>{console.log("navigate"),a(t).selectedDate=`${e.year}-${e.month<10?`0${e.month}`:e.month}-01`,a(t).dateMenu=!1})},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})])])])])])]),"body-cell-amount":n(e=>[l(Z,{"auto-width":"",props:e},{default:n(()=>[l(Q,{type:"number",dense:"",style:{"min-width":"max(100px, 30vw)"},modelValue:e.row.amount,"onUpdate:modelValue":i=>e.row.amount=i,label:"\u20B9",onBlur:i=>a(t).onBlurAmount(e.row)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1032,["props"])]),_:1},8,["filter","loading","rows","columns"]),l(G,{expand:"",position:"bottom",class:J({"q-px-xs":r.$q.screen.lt.sm,"q-px-md":r.$q.screen.gt.xs&&r.$q.screen.lt.lg,"q-px-lg":!r.$q.screen.lt.lg}),style:{"border-top":"1px solid #aaa"}},{default:n(()=>[u("div",ce,[u("div",pe,[l(b,{class:"full-width",onClick:o[4]||(o[4]=e=>a(t).save(r.$route,r.$router)),label:"save",color:"primary"})])])]),_:1},8,["class"]),l(Y,{onUpdateTable:o[5]||(o[5]=e=>{a(t).list=e.data,a(t).pagination.rowsNumber=e.total})}),l(k,{persistent:"",modelValue:a(t).createDialog,"onUpdate:modelValue":o[7]||(o[7]=e=>a(t).createDialog=e)},{default:n(()=>[l(oe,{flat:""},{default:n(()=>[l(K,{class:"bg-primary"},{default:n(()=>[l(W,null,{default:n(()=>[l(b,{flat:"",round:"",icon:"home",onClick:o[6]||(o[6]=()=>{r.$router.push({name:"faith-promises"}),a(t).createDialog=!1})}),y(" SELECT FAITH PROMISE MONTH ")]),_:1})]),_:1}),l(le,null,{default:n(()=>[u("div",fe,[(_(),L(X,null,z(g,(e,i)=>u("div",{class:"col-4",key:i},[l(ee,{clickable:"",style:{"border-radius":"4px"},onClick:h=>a(t).checkMonthExists(i,r.$router)},{default:n(()=>[l(te,{class:"text-center"},{default:n(()=>[y(V(e),1)]),_:2},1024)]),_:2},1032,["onClick"])])),64))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{$e as default};
