import{F as u,ae as d,ah as r}from"./index.e1718286.js";const e=u({selecteDate:void 0,showAddEditForm:!1,loadingTable:!1,loadingSubmitButton:!1,is_executive:!1,selectedTag:"Fellowship",list:[],users:[],selectedList:[],pagination:{descending:!0,rowsPerPage:15,rowsNumber:0,page:0},columns:f(),form_columns:p(),form:b(),create:v,update:y,getList:g,reset:h,save:m});async function m(t,n){var o,l,c,a;let i=t.params.id;(o=t.query.executive)!=null,e.loadingTable=!0,e.loadingSubmitButton=!0;try{const s=await d.request({url:i!="add"?`attendances/${i}`:"attendances",method:i!="add"?"patch":"post",data:{attend_list:e.selectedList,tag:e.selectedTag,date:e.selecteDate,is_executive:e.is_executive},params:{...e.pagination}});e.list=s.data.data,e.pagination.rowsNumber=s.data.total,e.showAddEditForm=!1,n.push({name:"attendances"})}catch(s){console.error(s.message),r.create((a=(c=(l=s.response)==null?void 0:l.data)==null?void 0:c.message)!=null?a:s==null?void 0:s.message)}e.loadingTable=!1,e.loadingSubmitButton=!1}async function g(t){var n,i,o,l,c,a;e.loadingTable=!0;try{t&&(e.pagination=t.pagination);const s=await d.get("attendances",{params:e.pagination});e.list=(i=(n=s.data)==null?void 0:n.data)!=null?i:[],e.pagination.rowsNumber=(o=s.data)==null?void 0:o.total}catch(s){console.error(s.message),r.create((a=(c=(l=s.response)==null?void 0:l.data)==null?void 0:c.message)!=null?a:s==null?void 0:s.message)}e.loadingTable=!1}function f(){return[{label:"Date",name:"date",align:"left",field:t=>t.date},{label:"tag",name:"tag",align:"left",field:t=>{var n;return(n=t.tag)!=null?n:"N/A"}},{name:"actions",label:""}]}function p(){return[{label:"name",name:"name",align:"left",field:t=>t.name},{label:"phone",name:"phone",align:"left",field:t=>t.phone}]}function b(){return{id:null,name:"",phone:"",corp:null}}function h(){e.form={id:null,name:"",phone:"",corp:null}}async function v(t){var n,i,o,l,c;try{const a=await d.get(`attendances/create?executive=${(n=t.query.executive)!=null?n:0}`);e.users=(i=a.data)!=null?i:[],e.is_executive=!!t.query.executive}catch(a){console.error(a.message),r.create((c=(l=(o=a.response)==null?void 0:o.data)==null?void 0:l.message)!=null?c:a==null?void 0:a.message)}}async function y(t){var n,i,o,l,c;try{const a=await d.get(`attendances/${t}/edit`);e.users=(n=a.data.users)!=null?n:[],e.selectedList=(i=a.data.attend_list)!=null?i:[],e.is_executive=a.data.is_executive}catch(a){console.error(a.message),r.create((c=(l=(o=a.response)==null?void 0:o.data)==null?void 0:l.message)!=null?c:a==null?void 0:a.message)}}export{e as a};
