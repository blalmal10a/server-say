import{r as c,G as u,J as p,o as m,L as f,M as g,N as d,O as s,af as n,R as l,Q as t,A as _,I as i}from"./index.e1718286.js";import{Q as w}from"./QTd.a4b33a76.js";import{b as h,_ as v,C}from"./ConfirmDelete.b0cdf728.js";import{Q as b}from"./QPage.0f37b7bd.js";import{a as o}from"./helper.f5cba889.js";import"./use-dark.99b08f3e.js";import"./format.02468c6e.js";import"./QCardActions.ec367892.js";import"./use-transition.cef9a881.js";const k={class:"full-width"},Q={class:"row q-col-gutter-sm"},q=n("div",{class:"col"},null,-1),A={class:"col-auto"},D={class:"col-auto"},x={class:"row q-col-gutter-sm",style:{"min-width":"100px"}},B={class:"col-auto"},$={class:"col-auto"},V={__name:"AttendancesPage",setup(y){return c(null),u(()=>{o.list=[]}),p(()=>{o.list=[]}),m(async()=>{await o.getList()}),(r,a)=>(f(),g(b,{class:"",padding:""},{default:d(()=>[s(h,{loading:t(o).loadingTable,pagination:t(o).pagination,"onUpdate:pagination":a[2]||(a[2]=e=>t(o).pagination=e),onRequest:t(o).getList,square:"",flat:"",bordered:"",rows:t(o).list,columns:t(o).columns,class:"full-width"},{top:d(()=>[n("div",k,[n("div",Q,[q,n("div",A,[s(l,{rounded:"",color:"accent",icon:"add",title:"Add Attendance",onClick:a[0]||(a[0]=()=>{t(o).reset(),r.$router.push({name:"attendance-form",params:{id:"add"}})})})]),n("div",D,[s(l,{rounded:"",color:"accent",icon:"new_label",title:"Executive Attendance",onClick:a[1]||(a[1]=()=>{t(o).reset(),r.$router.push({name:"attendance-form",params:{id:"add"},query:{executive:1}})})})])])])]),"body-cell-actions":d(e=>[s(w,{"auto-width":"",props:e},{default:d(()=>[n("div",x,[n("div",B,[_(s(l,{round:"",onClick:()=>{r.$router.push({name:"attendance-form",params:{id:e.row.id}}),t(o).showAddEditForm=!0},color:"accent",size:"12px",icon:"edit"},null,8,["onClick"]),[[C]])]),n("div",$,[s(l,{round:"",onClick:()=>{t(i).tempData={...e.row},t(i).tempData.title=`attendence on ${e.row.date}`,t(i).tempData.endpoint="attendances",t(i).showConfirmDeleteDialog=!0,t(i).pagination={...t(o).pagination}},color:"negative",size:"12px",icon:"delete"},null,8,["onClick"])])])]),_:2},1032,["props"])]),_:1},8,["loading","pagination","onRequest","rows","columns"]),s(v,{onUpdateTable:a[3]||(a[3]=e=>{t(o).list=e.data,t(o).pagination.rowsNumber=e.total})})]),_:1}))}};export{V as default};
