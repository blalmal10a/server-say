import{P as r,Q as u,R as e,S as s,T as n,a0 as f,U as o,A as m,V as d,K as g,N as w,o as b,M as l}from"./index.d3ad043f.js";import{Q}from"./QTd.1a8fab95.js";import{C as c,a as h,b as D,_ as v}from"./ConfirmDelete.041abbd4.js";import{a as C,b as x,Q as y}from"./QPage.7bf2ba30.js";import{d as t}from"./helper.c15e2c11.js";import{Q as V,h as k}from"./format.59a25017.js";import{Q as T}from"./QInput.7e27db63.js";import{Q as A}from"./QCardActions.79877e99.js";import"./use-quasar.f628857e.js";import"./use-transition.5f5ddb9c.js";const S={class:"col"},q={class:"col-auto"},B={__name:"DesignationForm",setup(p){return(_,i)=>(r(),u(h,{"no-backdrop-dismiss":"",modelValue:o(t).showAddEditForm,"onUpdate:modelValue":i[1]||(i[1]=a=>o(t).showAddEditForm=a)},{default:e(()=>[s(C,{style:{"min-width":"min(400px, 100vw)"}},{default:e(()=>[s(V,{class:"bg-primary text-white"},{default:e(()=>[s(k,{class:"row"},{default:e(()=>{var a;return[n("div",S,f((a=o(t).form)!=null&&a._id?"Edit":"Add")+" Designation",1),n("div",q,[m(s(d,{round:"",flat:"",icon:"close"},null,512),[[c]])])]}),_:1})]),_:1}),s(x,null,{default:e(()=>[s(A,{onSubmit:o(t).add},{default:e(()=>[s(T,{autofocus:"",modelValue:o(t).form.name,"onUpdate:modelValue":i[0]||(i[0]=a=>o(t).form.name=a),type:"text",label:"Name",rules:[a=>!!a||"Name is required"]},null,8,["modelValue","rules"]),s(d,{loading:o(t).loadingSubmitButton,type:"submit",color:"primary",class:"full-width q-mt-md",label:"Submit"},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},F={class:"full-width row"},N=n("div",{class:"col"},"sdf",-1),U={class:"col-auto"},E={class:"row q-col-gutter-sm",style:{"min-width":"100px"}},P={class:"col-auto"},$={class:"col-auto"},O={__name:"DesignationPage",setup(p){return g(()=>{t.list=[]}),w(()=>{t.list=[]}),b(async()=>{await t.getList()}),(_,i)=>(r(),u(y,{class:"",padding:""},{default:e(()=>[s(D,{loading:o(t).loadingTable,pagination:o(t).pagination,"onUpdate:pagination":i[1]||(i[1]=a=>o(t).pagination=a),onRequest:o(t).getList,square:"",flat:"",bordered:"",rows:o(t).list,columns:o(t).columns,class:"full-width"},{top:e(()=>[n("div",F,[N,n("div",U,[s(d,{rounded:"",color:"accent",icon:"add",title:"Add Designation",onClick:i[0]||(i[0]=()=>{o(t).reset(),o(t).showAddEditForm=!0})})])])]),"body-cell-actions":e(a=>[s(Q,{"auto-width":"",props:a},{default:e(()=>[n("div",E,[n("div",P,[m(s(d,{round:"",onClick:()=>{o(t).form={...a.row},o(t).showAddEditForm=!0},color:"accent",size:"12px",icon:"edit"},null,8,["onClick"]),[[c]])]),n("div",$,[s(d,{round:"",onClick:()=>{o(l).tempData={...a.row},o(l).tempData.title=a.row.name,o(l).tempData.endpoint="designations",o(l).showConfirmDeleteDialog=!0,o(l).pagination={...o(t).pagination}},color:"negative",size:"12px",icon:"delete"},null,8,["onClick"])])])]),_:2},1032,["props"])]),_:1},8,["loading","pagination","onRequest","rows","columns"]),s(B),s(v,{onUpdateTable:i[2]||(i[2]=a=>{o(t).list=a.data,o(t).pagination.rowsNumber=a.total})})]),_:1}))}};export{O as default};
