import{Q as u}from"./QInput.6eb20e46.js";import{Q as p,b as f,_ as g}from"./ConfirmDelete.b0cdf728.js";import{ad as w,r as _,J as b,o as v,L as Q,M as y,N as n,O as l,af as a,Q as t,R as V}from"./index.e1718286.js";import{Q as k}from"./QPage.0f37b7bd.js";import{a as e}from"./helper.f5cba889.js";import{d as L}from"./date.0d465aef.js";import"./QCardActions.ec367892.js";import"./use-dark.99b08f3e.js";import"./format.02468c6e.js";import"./use-transition.cef9a881.js";const M={class:"full-width"},R={class:"row q-col-gutter-sm"},T={class:"col-12 col-sm-6 col-md-4"},h={class:"col-12 col-sm-6 col-md-4"},B={class:"col-12 col-sm-6 col-md-4"},A={__name:"AttendanceForm",setup(C){const d=w(),r=_(null);b(()=>{e.users=[],e.selectedList=[],L.formatDate(new Date,"ddd")=="Mon"&&(e.selectedTag="Monday")}),v(async()=>{d.params.id=="add"?await e.create(d):await e.update(d.params.id,d)});function c(i,o){const s=e.selectedList.findIndex(m=>m.id==o.id);s>=0?e.selectedList.splice(s,1):e.selectedList.push(o)}return(i,o)=>(Q(),y(k,{class:"",padding:""},{default:n(()=>[l(f,{ref_key:"tableRef",ref:r,square:"",flat:"",bordered:"",filter:t(e).pagination.filter,selection:"multiple",onRowClick:c,loading:t(e).loadingTable,rows:t(e).users,columns:t(e).form_columns,"rows-per-page-options":[0],"hide-pagination":"",class:"full-width",selected:t(e).selectedList,"onUpdate:selected":o[3]||(o[3]=s=>t(e).selectedList=s),key:"id"},{top:n(()=>[a("div",M,[a("div",R,[a("div",T,[l(u,{dense:"",outlined:"",modelValue:t(e).pagination.filter,"onUpdate:modelValue":o[0]||(o[0]=s=>t(e).pagination.filter=s),label:"Search"},null,8,["modelValue"])]),a("div",h,[l(p,{dense:"",outlined:"",options:["Monday","Fellowship","Others"],modelValue:t(e).selectedTag,"onUpdate:modelValue":o[1]||(o[1]=s=>t(e).selectedTag=s)},null,8,["modelValue"])]),a("div",B,[l(V,{class:"full-width",onClick:o[2]||(o[2]=s=>t(e).save(i.$route,i.$router)),label:"save",color:"primary"})])])])]),_:1},8,["filter","loading","rows","columns","selected"]),l(g,{onUpdateTable:o[4]||(o[4]=s=>{t(e).list=s.data,t(e).pagination.rowsNumber=s.total})})]),_:1}))}};export{A as default};
