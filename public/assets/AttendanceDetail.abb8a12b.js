import{Q as m}from"./QInput.7e27db63.js";import{ae as w,ad as v,r as y,f as h,N as V,o as k,P as u,Q as C,R as f,S as a,T as l,U as o,V as B,X as Q,a0 as r,W as R}from"./index.d3ad043f.js";import{b as T,_ as M}from"./ConfirmDelete.041abbd4.js";import{Q as L}from"./QPage.7bf2ba30.js";import{a as e}from"./helper.8e3deb34.js";import{d as N}from"./date.4199c5fc.js";import"./QCardActions.79877e99.js";import"./use-quasar.f628857e.js";import"./format.59a25017.js";import"./use-transition.5f5ddb9c.js";const $={class:"full-width"},x={class:"row q-col-gutter-sm"},A={class:"col-12 col-sm-6 col-md-4"},D={class:"col-12 col-sm-6 col-md-4"},S={class:"col-12 col-sm-6 col-md-4"},U={key:0,class:"q-mt-md row"},q={class:"col"},I={class:"col-auto"},O={__name:"AttendanceDetail",setup(E){const p=w(),_=v(),g=y(null);h(()=>e.is_executive?(e.selectedTag="Council",["Council","Activity"]):(e.selectedTag="Meeting",["Meeting","Activity"])),V(()=>{e.users=[],e.selectedList=[],N.formatDate(new Date,"ddd")=="Mon"&&(e.selectedTag="Monday")}),k(async()=>{e.show(p,_)});function b(n,t){const s=e.selectedList.findIndex(i=>i.id==t.id);s>=0?e.selectedList.splice(s,1):e.selectedList.push(t)}return(n,t)=>(u(),C(L,{class:"",padding:""},{default:f(()=>[a(T,{ref_key:"tableRef",ref:g,square:"",flat:"",bordered:"",filter:o(e).pagination.filter,onRowClick:b,loading:o(e).loadingTable,rows:o(e).users,columns:o(e).form_columns,"rows-per-page-options":[0],"hide-pagination":"",class:"full-width",key:"id"},{top:f(()=>{var s,i,c;return[l("div",$,[l("div",x,[l("div",A,[a(m,{dense:"",outlined:"",modelValue:o(e).pagination.filter,"onUpdate:modelValue":t[0]||(t[0]=d=>o(e).pagination.filter=d),label:`Search ${(s=o(e).form.tag)==null?void 0:s.toLowerCase()} attendees`},null,8,["modelValue","label"])]),l("div",D,[a(m,{dense:"",outlined:"",modelValue:o(e).collection,"onUpdate:modelValue":t[1]||(t[1]=d=>o(e).collection=d),type:"number",step:"0.01",label:"Collection",placeholder:"Enter collection amount \u20B9"},null,8,["modelValue"])]),l("div",S,[a(B,{loading:o(e).loadingSubmitButton,class:"full-width",onClick:t[2]||(t[2]=d=>o(e).update_collection(n.$route,n.$router)),label:"save",color:"primary"},null,8,["loading"])])]),o(e).form.no_of_members?(u(),Q("div",U,[l("div",q," Attendance: "+r((i=o(e).form)==null?void 0:i.no_of_attendant)+"/"+r((c=o(e).form)==null?void 0:c.no_of_members),1),l("div",I,r(o(e).form.percentage)+"% ",1)])):R("",!0)])]}),_:1},8,["filter","loading","rows","columns"]),a(M,{onUpdateTable:t[3]||(t[3]=s=>{o(e).list=s.data,o(e).pagination.rowsNumber=s.total})})]),_:1}))}};export{O as default};
